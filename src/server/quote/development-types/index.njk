{% extends "layouts/page.njk" %}

{% block pageTitle %}{% if validationErrors %}Error: {% endif %}{{ pageTitle }}{% endblock %}

{% block beforeContent %}
{{ govukBackLink({
    text: "Back",
    href: backLink
}) }}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds-from-desktop">

        <form method="post" novalidate>
          {% include "partials/csrf-token.njk" %}
            {% if validationErrors %}
            {{ govukErrorSummary({
                titleText: "There is a problem",
                errorList: validationErrors.summary
            }) }}
            {% endif %}

            {% set legendHtml %}<h1 class="govuk-fieldset__heading">{{ pageHeading }}</h1>{% endset %}

            {{ govukCheckboxes({
                name: "developmentTypes",
                fieldset: {
                    legend: {
                        html: legendHtml,
                        classes: "govuk-fieldset__legend--l"
                    }
                },
                hint: {
                    text: "Select all that apply"
                },
                errorMessage: validationErrors.messagesByFormField.developmentTypes,
                values: formSubmitData.developmentTypes,
                items: [
                    {
                        value: "housing",
                        text: "Housing",
                        hint: {
                            text: "Dwellings, HMOs of 6 or less residents, static caravans or mobile homes with permanent residents"
                        }
                    },
                    {
                        value: "other-residential",
                        text: "Other residential",
                        hint: {
                            text: "HMOs for 7 or more residents, care homes, retirement homes, student accommodation, prisons and secure institutions, military accommodation, hotels, bed and breakfasts, Holiday lets, caravans and camping"
                        }
                    }
                ]
            }) }}

            {{ govukButton({
                text: "Continue"
            }) }}

        </form>
    </div>
</div>
{% endblock %}
