{% extends "layouts/page.njk" %}

{% block pageTitle %}{% if validationErrors %}Error: {% endif %}{{ pageTitle }}{% endblock %}

{% block beforeContent %}
{{ govukBackLink({
    text: "Back",
    href: backLink
}) }}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds-from-desktop">

        <form method="post" novalidate>
          {% include "partials/csrf-token.njk" %}
            {% if validationErrors %}
            {{ govukErrorSummary({
                titleText: "There is a problem",
                errorList:  validationErrors.summary
            }) }}
            {% endif %}

            {% set legendHtml %}<h1 class="govuk-fieldset__heading">{{ pageHeading }}</h1>{% endset %}

            {{ govukRadios({
                name: "boundaryEntryType",
                fieldset: {
                    legend: {
                        html: legendHtml,
                        classes: "govuk-fieldset__legend--l"
                    }
                },
                errorMessage: validationErrors.messagesByFormField.boundaryEntryType,
                value: formSubmitData.boundaryEntryType,
                items: [
                    {
                        value: "draw",
                        text: "Draw on a map"
                    },
                    {
                        value: "upload",
                        text: "Upload a file",
                        hint: {
                            text: "Upload a shapefile (.shp) or GeoJSON file (.geojson). The file must be smaller than 2MB."
                        }
                    }
                ]
            }) }}

            {{ govukButton({
                text: "Continue"
            }) }}

        </form>
    </div>
</div>
{% endblock %}
