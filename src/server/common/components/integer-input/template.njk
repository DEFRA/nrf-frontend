{#
  Integer input component - wraps govukInput with client-side filtering

  Filters: non-numeric characters, commas, decimals, scientific notation (e, E, +)
  Allows: digits 0-9 only (whole numbers), optionally negative

  Parameters:
    allowNegative: boolean (default: false) - whether to allow negative numbers

  Usage:
    {{ appIntegerInput({
        label: {
            text: "How many items?",
            classes: "govuk-label--l",
            isPageHeading: true
        },
        hint: {
            text: "Enter a whole number"
        },
        name: "itemCount",
        classes: "govuk-input--width-5",
        allowNegative: false,
        value: formSubmitData.itemCount,
        errorMessage: validationErrors.messagesByFormField.itemCount
    }) }}

  All standard govukInput parameters are supported. The following are automatically set:
  - inputmode: "numeric" (shows numeric keyboard on mobile)
  - pattern: "[0-9]*" or "-?[0-9]*" (HTML5 validation fallback)
  - data-integer-filter: "true" (enables JS filtering)
  - data-allow-negative: "true" or "false"
#}

{% from "govuk/components/input/macro.njk" import govukInput %}

{% set allowNegative = params.allowNegative if params.allowNegative is defined else false %}

{{ govukInput({
    label: params.label,
    hint: params.hint,
    name: params.name,
    id: params.id if params.id else params.name,
    classes: params.classes,
    inputmode: "numeric",
    pattern: "-?[0-9]*" if allowNegative else "[0-9]*",
    value: params.value,
    errorMessage: params.errorMessage,
    formGroup: params.formGroup,
    prefix: params.prefix,
    suffix: params.suffix,
    autocomplete: params.autocomplete,
    describedBy: params.describedBy,
    spellcheck: params.spellcheck,
    attributes: {
        "data-integer-filter": "true",
        "data-allow-negative": "true" if allowNegative else "false"
    }
}) }}
