# DEFRA Customer Identity Configuration
# Updated for new @hapi/bell + @hapi/jwt implementation

# Enable authentication
ENABLE_DEFRA_ID=true

# OIDC Well-Known URL - DEFRA Customer Identity custom domain
DEFRA_ID_WELL_KNOWN_URL=https://your-account.cpdev.cui.defra.gov.uk/idphub/b2c/b2c_1a_cui_cpdev_signupsignin/.well-known/openid-configuration

# OAuth Client Credentials
DEFRA_ID_CLIENT_ID=

# Client secret expires 04/02/2027
DEFRA_ID_CLIENT_SECRET=

# Service ID
DEFRA_ID_SERVICE_ID=

# Scope format must be "openid,offline_access,<the value of DEFRA_ID_CLIENT_ID above>"
# Adding the client ID at the end means an access token will be returned
# Which can be used to authenticate with nrf-backend API
DEFRA_ID_SCOPES=openid,offline_access,<Defra ID clientId>

# OAuth Callback URL
DEFRA_ID_REDIRECT_URL=http://localhost:3000/login/return

# Enable automatic token refresh
DEFRA_ID_REFRESH_TOKENS=true

# Cookie Configuration
COOKIE_PASSWORD=nrf-frontend-secure-cookie-password-must-be-32-chars-minimum-abc123
